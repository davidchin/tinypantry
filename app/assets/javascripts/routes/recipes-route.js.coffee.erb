angular.module('recipe')
  .config ($routeProvider) ->
    $routeProvider
      .when '/',
        redirectTo: '/recipes'

      .when '/recipes',
        templateUrl: '<%= asset_path("recipes/index.html") %>'
        controller: 'RecipesIndexController'

      .when '/recipes/:id',
        templateUrl: '<%= asset_path("recipes/show.html") %>'
        controller:  'RecipesShowController'

      .when '/recipes/:id/edit',
        templateUrl: '<%= asset_path("recipes/edit.html") %>'
        controller:  'RecipesEditController'
        resolve: authorize: (authorize) -> authorize('admin')
