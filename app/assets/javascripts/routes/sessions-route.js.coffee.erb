angular.module('session')
  .config ($stateProvider, ModalProvider) ->
    $stateProvider
      .state 'sessions',
        abstract: true
        template: '<ui-view />'

      .state 'sessions.new',
        url: '/login'
        templateUrl: '<%= asset_path("sessions/new.html") %>'
        controller: 'SessionsNewController'

      .state 'sessions.destroy',
        url: '/logout'
        templateUrl: '<%= asset_path("sessions/destroy.html") %>'
        controller: 'SessionsDestroyController'

    ModalProvider
      .when 'login',
        templateUrl: '<%= asset_path("sessions/new-modal.html") %>'
        controller:  'SessionsNewController'
