angular.module('flash')
  .directive 'flash', (flashFactory, $interpolate) ->
    restrict: 'EA'
    scope: true
    templateUrl: '<%= asset_path("shared/_flash.html") %>'
    link: (scope, element, attrs) ->
      class FlashDirective
        constructor: ->
          @flash = flashFactory.get(attrs.name || 'app')

      _.extend(scope, new FlashDirective)
